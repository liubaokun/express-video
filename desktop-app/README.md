# 快递视频接收器 - 桌面端

## 📦 快速启动

### 方法 1：双击启动脚本（推荐）

**中文版**：双击 `..\桌面端启动.bat`

**英文版**：双击 `start.bat`

脚本会自动：
- ✅ 检查 Python 是否安装
- ✅ 自动安装所需的依赖包
- ✅ 启动应用程序

---

### 方法 2：命令行启动

```bash
# 进入目录
cd desktop-app

# 安装依赖（首次运行）
pip install -r requirements.txt

# 启动程序
python main.py
```

---

## 🔧 系统要求

| 要求 | 说明 |
|------|------|
| **操作系统** | Windows 7/8/10/11 |
| **Python** | 3.8 或更高版本 |
| **内存** | 至少 512MB 可用内存 |

---

## 📝 使用说明

### 首次使用

1. **启动程序**
   - 双击启动脚本
   
2. **设置保存路径**
   - 点击"浏览..."选择视频保存位置
   - 默认：`C:\Users\你的用户名\Videos\ExpressVideo`

3. **启动服务**
   - 点击"启动服务"按钮
   - 状态变为"运行中"（绿色）
   - 显示二维码

4. **手机配置**
   - 打开手机 APP
   - 进入设置 → 扫描服务器二维码
   - 扫描电脑屏幕上的二维码
   - 或手动输入 IP 地址和端口（默认 8080）

---

## 🎯 功能说明

### 界面元素

| 区域 | 功能 |
|------|------|
| **服务状态** | 显示服务是否运行中 |
| **IP/端口** | 显示当前服务器地址 |
| **二维码** | 手机扫描配置服务器 |
| **保存路径** | 设置视频保存位置 |
| **端口设置** | 修改服务端口（默认 8080） |
| **启动/停止** | 控制服务启停 |
| **应用设置** | 保存当前配置 |
| **日志区域** | 显示接收记录 |

### 系统托盘

- **关闭窗 口** = 最小化到托盘（不是退出）
- **右键托盘图标**：
  - 显示窗口
  - 退出程序

---

## ⚠️ 常见问题

### 1. 端口被占用

**错误**：启动失败，提示"端口 8080 已被占用"

**解决**：
- 方法 1：关闭其他占用 8080 端口的程序
- 方法 2：在设置中修改为其他端口（如 8081）

### 2. 防火墙阻止

**现象**：手机无法连接

**解决**：
- Windows 防火墙 → 允许 Python 通过防火墙
- 或临时关闭防火墙测试

### 3. 手机无法连接

**检查**：
- ✅ 手机和电脑在同一 WiFi
- ✅ 服务器已启动（状态显示"运行中"）
- ✅ IP 地址和端口配置正确
- ✅ 防火墙未阻止 8080 端口

---

## 📋 依赖包

程序会自动安装以下依赖：

```txt
PyQt5>=5.15.0        # GUI 界面
Flask>=2.3.0         # Web 服务器
Werkzeug>=2.3.0      # Web 工具
qrcode[pil]>=7.4.0   # 二维码生成
psutil>=5.9.0        # 进程管理
```

---

## 📞 技术支持

如有问题，请检查：
1. Python 是否正确安装
2. 依赖包是否完整
3. 端口是否被占用
4. 防火墙设置

日志会显示在程序底部和命令行窗口。
